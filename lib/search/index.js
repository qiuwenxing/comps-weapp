let animation=null;Component({externalClasses:["i-class"],properties:{key:{type:String,value:null},placeholder:{type:String,value:""},radius:{type:String,value:"10"},count:{type:String,value:20}},data:{display:!1,animationData:null,focus:!1,history:[],keyword:""},methods:{selectSearch({target:t}){t=t.dataset.i,t=this.data.history[t];this.search(t)},confirmSearch({detail:t}){this.search(t.value)},search(t){var a,{key:e,history:i,count:s}=this.data;t&&0<t.trim().length&&(t=t.trim(),-1!=(a=i.indexOf(t))&&i.splice(a,1),i.unshift(t),i.length>s&&i.pop(),wx.setStorage({key:e,data:i}),this.setData({history:i}),this.triggerEvent("search",{value:t}))},clean(){wx.showModal({title:"系统提示",content:"确定清空历史搜索？",success:t=>{var a;1==t.confirm&&({key:t,history:a}=this.data,a=[],wx.setStorage({key:t,data:a}),this.setData({history:a}))}})},clearInput(){let t=this.data["focus"];t=!1,this.setData({keyword:"",focus:!1}),setTimeout(()=>{t=!0,this.setData({focus:!0})},200)},show(t){let{key:a,keyword:e,history:i,focus:s}=this.data;e=t||null,i=wx.getStorageSync(a)||[],s=!1,this.setData({keyword:e,history:i,focus:!!0,display:!0});t=animation.opacity(1).step().export();this.setData({animationData:t}),setTimeout(()=>{s=!0,this.setData({focus:!0})},100),setTimeout(()=>{wx.hideTabBar()},500)},hide(){let t=this.data["display"];var a=animation.opacity(0).step().export();this.setData({animationData:a}),setTimeout(()=>{t=!1,this.setData({display:!1})},300),wx.showTabBar()}},created(){animation=wx.createAnimation({duration:300,timingFunction:"ease",transformOrigin:"50% 50%"})}});